src    : std.CountTimer(start=1, sleep=0.01, steps=1000000000)
ident  : std.Burn(duration=0.1, dump=false)
delay  : std.Identity(dump=false)
snk    : test.Sink(store_tokens=1, quiet=1, active=true)
# src.integer(routing="balanced")
# delay.token[in](routing="collect-tagged")
src.integer > ident.token
ident.token > delay.token
delay.token > snk.token

rule first: node_attr_match(index=["node_name", {"organization": "com.ericsson", "purpose": "distributed-test", "group": "first"}])
rule rest: node_attr_match(index=["node_name", {"organization": "com.ericsson", "purpose": "distributed-test", "group": "rest"}]) & device_scaling(max=6)
apply src, snk, delay: first
apply ident: rest
